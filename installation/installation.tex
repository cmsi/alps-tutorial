\title{ALPSチュートリアル -- ALPSのインストール}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\section*{Outline}
\begin{frame}
  \tableofcontents
\end{frame}

\section{ALPSがインストールされているシステム}
\begin{frame}[fragile]
  \frametitle{ALPSがインストールされているシステム}
  \begin{itemize}
  \item 物性研システムB (kashiwa), システムC (maki)
  \item 京 (k)
  \item 東大FX10 (oakleaf-fx)
  \item 京大Cray XE6 (camphor)
  \item 九大X86クラスタ (tatara)
  \item ...
  \item 他にも順次インストール中 (アカウントをいただければ出張インストールします)
  \end{itemize}
\begin{semiverbatim}
参考: {\footnotesize \url{https://github.com/wistaria/installer/wiki}}
\end{semiverbatim}
\end{frame}

\section{ALPSのインストール}
\begin{frame}
  \frametitle{ALPSの依存関係}
  \begin{itemize}
  \item<1-> 必須のもの\\
    \begin{tabular}{ll}
      CMake & \url{http://www.cmake.org/} \\
      Boost & \url{http://www.boost.org/} \\
      HDF5  & \url{http://www.hdfgroup.org/HDF5/} \\
      BLAS/LAPACK & \url{http://www.netlib.org/} \\
    \end{tabular}
  \item<2-> 結果の解析に必要なもの \\
    \begin{tabular}{ll}
      Python & \url{http://www.python.org/} \\
      Numpy & \url{http://www.numpy.org} \\
      Scipy & \url{http://www.scipy.org} \\
      Matplotlib & \url{http://matplotlib.org/}
    \end{tabular}
  \item<3-> あるとよいもの \\
    \begin{tabular}{ll}
      MPI & \url{http://www.mpi-forum.org/} \\
    \end{tabular}
  \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink=10]
  \frametitle{Debian系Linuxでのインストール}
  \begin{enumerate}
  \item 必要なライブラリをapt-getする
\begin{semiverbatim}
# apt-get install cmake-curses-gui libhdf5-dev liblapack-dev mpi-default-dev
# apt-get install python-matplotlib python-scipy
\end{semiverbatim}
  \item ALPSのビルドとインストール
\begin{semiverbatim}
\$ cd $HOME
\$ wget http://exa.phys.s.u-tokyo.ac.jp/archive/source/\\
  alps-20140207-r7338.tar.gz
\$ wget http://sourceforge.net/projects/boost/files/\\
  boost/1.54.0/boost_1_54_0.tar.bz2
\$ tar zxf alps-20140207-r7338.tar.gz
\$ tar jxf boost_1_54_0.tar.bz2
\$ mkdir build && cd build
\$ cmake -DBoost_ROOT_DIR=$HOME/boost_1_54_0 \\
  $HOME/alps-20140207-r7338
\$ make && ctest && make install
\end{semiverbatim}
  \end{enumerate}
\end{frame}

\begin{frame}[fragile,shrink=10]
  \frametitle{Mac OS Xでのインストール}
  \begin{enumerate}
  \item 必要なライブラリを\href{http://www.macports.org/}{MacPorts}からインストール
\begin{semiverbatim}
\$ sudo port install cmake hdf5-18 openmpi
\$ sudo port install py27-numpy py27-scipy \\
  py27-matplotlib python27
\$ sudo port select --set python python27
\end{semiverbatim}
  \item ALPSのビルドとインストール
\begin{semiverbatim}
\$ wget http://exa.phys.s.u-tokyo.ac.jp/archive/source/\\
  alps-20140207-r7338.tar.gz
\$ wget http://sourceforge.net/projects/boost/files/\\
  boost/1.54.0/boost_1_54_0.tar.bz2
\$ tar zxf alps-20140207-r7338.tar.gz
\$ tar jxf boost_1_54_0.tar.bz2
\$ mkdir build && cd build
\$ vi alps-cmake.sh (see next page)
\$ sh alps-cmake.sh
\$ make && ctest && make install
\end{semiverbatim}
  \end{enumerate}
\end{frame}

\begin{frame}[fragile,shrink=10]
 \frametitle{Mac OS X用のCMakeの設定例 (alps-cmake.sh)}
 \begin{semiverbatim}
#!/bin/bash

PREFIX=${HOME}/opt/alps
ALPS_SRC=${HOME}/sources/archive/alps-20140207-r7338
BOOST_SRC=${HOME}/sources/archive/boost_1_54_0

cmake \\
    -DCMAKE_BUILD_TYPE:STRING=Release \\
    -DCMAKE_INSTALL_PREFIX:PATH=${PREFIX} \\
    -DCMAKE_CXX_COMPILER:PATH=/opt/local/bin/g++-mp-4.8 \\
    -DCMAKE_C_COMPILER:PATH=/opt/local/bin/gcc-mp-4.8 \\
    -DCMAKE_BUILD_TYPE:STRING=${BUILD_TYPE} \\
    -DBoost_ROOT_DIR:PATH=${BOOST_SRC} \\
    -DALPS_ENABLE_OPENMP:BOOL=ON \\
    -DALPS_ENABLE_OPENMP_WORKER:BOOL=ON \\
    -DMPI_C_COMPILER:PATH=/opt/local/bin/openmpicc \\
    -DMPI_CXX_COMPILER:PATH=/opt/local/bin/openmpicxx \\
${ALPS_SRC}
 \end{semiverbatim}
\end{frame}

\end{document}

%%% Local Variables: 
%%% mode: japanese-latex
%%% TeX-master: nil
%%% coding: utf-8
%%% End: 
